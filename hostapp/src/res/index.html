<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="console.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-image">
    <link rel="icon" href="favicon.icon" type="image/x-image">
    <title>Lion Heart</title>

    <script src="jQuery.min.js">
    </script>

    <script>

        function updatelist(){
            $.get("fetch/devicelist", function (data, status) {
                // Check if we are scrolled to the bottom to force scrolling on update
                var output = $('#devicelist');
                var list = JSON.parse(data);
                output.empty();
                for (var i = 0; i < list.length; i++){
                    var device = list[i];
                    output.append("<a href=\"" + device.url + "\" target=\"_blank\" class=\"console\">" + device.name + " : " + device.url + "</a></br>");
                }
                output.val(String(data));
            });
        }

        // Poll to update the list
        window.setInterval(function () {
            updatelist(null)
        }, 500);

    </script>

</head>
<body>
    <p class="console">Working Devices</p>

    <div id="devicelist">



    </div>



</body>
</html>